(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{337:function(t,e,a){},381:function(t,e,a){"use strict";var s=a(337);a.n(s).a},389:function(t,e,a){"use strict";a.r(e);a(65),a(8);var s=a(308),o=a.n(s),i={name:"TreeModal",components:{},props:{listData:{type:Object,default:function(){return{}}},reflectKey:{type:Object,default:function(){return{key:"key",value:"value"}}},isShow:{type:Boolean},width:{type:String,default:function(){return"800"}},height:{type:String,default:function(){return"600"}},addTreeList:{type:Function,default:function(){return new Promise((function(t){return t({})}))}},title:{type:String,default:function(){return""}},controllerColor:{type:String,default:function(){return""}},activeColor:{type:String,default:function(){return""}},mask:{type:Boolean},draggable:{type:Boolean},value:{type:Array,default:function(){return[]}}},data:function(){return{isCascadeShow:!1,isModalShow:this.isShow,selectData:this.value,searchStr:"",list_data:[],cascadeData:[]}},mounted:function(){this.list_data=o.a.cloneDeep(this.listData)},methods:{confirmHandle:function(){this.$emit("toggleShow",!1),this.$emit("input",this.selectData)},cancelHandle:function(){this.$emit("toggleShow",!1),this.selectData=this.value},addTreeListHandle:function(){var t=this;this.addTreeList().then((function(e){if(200===e.code)t.$set(t,"list_data",e.code),t.$emit(t,"getListData",e.code),t.isCascadeShow=!1;else try{t.$emit(t,"getListData",{})}catch(t){alert("添加失败")}}))}},watch:{isShow:function(t){this.isModalShow=t},isModalShow:function(t){t||this.$emit("toggleShow",!1)},isCascadeShow:function(){this.$set(this,"cascadeData",[])}}},n=(a(381),a(25)),c=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:t.width,height:t.height,mask:t.mask,draggable:t.draggable,controllerColor:t.controllerColor,activeColor:t.activeColor},model:{value:t.isModalShow,callback:function(e){t.isModalShow=e},expression:"isModalShow"}},[t._t("default",[a("div",{staticClass:"modal-header"},[t._v("\n            "+t._s(t.title)+"\n        ")])],{slot:"header"}),t._v(" "),a("div",{staticClass:"tree-box-wrap"},[a("div",{staticClass:"tree-box"},[a("div",{staticClass:"footer-box"}),t._v(" "),a("div",{staticClass:"search-box-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.searchStr},on:{input:function(e){e.target.composing||(t.searchStr=e.target.value)}}}),t._v(" "),t.isCascadeShow?t._e():a("Button",{on:{click:function(e){t.isCascadeShow=!0}}},[t._v("新增")]),t._v(" "),t.isCascadeShow?a("Button",{on:{click:t.addTreeListHandle}},[t._v("保存")]):t._e(),t._v(" "),t.isCascadeShow?a("Button",{attrs:{type:"danger"},on:{click:function(e){t.isCascadeShow=!1}}},[t._v("取消")]):t._e()],1),t._v(" "),a("div",{staticClass:"cascade-box"},[t.isCascadeShow?a("Cascade",{attrs:{"list-data":t.list_data,reflectKey:t.reflectKey,placeholder:t.title},model:{value:t.cascadeData,callback:function(e){t.cascadeData=e},expression:"cascadeData"}}):t._e()],1),t._v(" "),a("div",{staticClass:"content-box"},[a("div",[a("Tree",{attrs:{line:"","file-icon":"","list-data":t.list_data,"reflect-key":t.reflectKey,"search-str":t.searchStr},model:{value:t.selectData,callback:function(e){t.selectData=e},expression:"selectData"}})],1)])]),t._v(" "),a("div",{staticClass:"selected-box"},[a("div",{staticClass:"footer-box"},[t._v("\n                已选"+t._s(t.selectData.length?1:0)+"项\n            ")]),t._v(" "),a("div",{staticClass:"selected-content"},t._l(t.selectData,(function(e){return a("p",{key:e[t.reflectKey.value]},[a("b",[t._v(t._s(e[t.reflectKey.key]))]),t._v(" "),a("Icon",{attrs:{type:"svg","icon-name":"choas-close",color:"#fff",height:"30",width:"30","active-color":"#ff5e5c"},on:{click:function(e){t.selectData=[]}}})],1)})),0)])]),t._v(" "),t._t("default",[a("div",{staticClass:"modal-footer"},[a("Button",{attrs:{size:"large",type:"danger"},on:{click:t.cancelHandle}},[t._v("取  消")]),t._v(" "),a("Button",{attrs:{size:"large"},on:{click:t.confirmHandle}},[t._v("确  认")])],1)],{slot:"footer"})],2)}),[],!1,null,"6439167a",null).exports;c.install=function(t){t.component(c.name,c)};e.default=c}}]);